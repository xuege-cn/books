
![](1.jpeg)

#### ES6æ¨¡å—åŸºæœ¬è¯­æ³•
##### ä»å…¶ä»–æ¨¡å—å¯¼å‡º
```
1. export * from './module'
2. export { name1, name2 } from './module'
3. export { v1 as name1, v2 as name2 } from './module'
4. export { default as name } from './module'
```   

##### å¯¼å‡ºè‡ªå·±æ¨¡å—çš„å±æ€§
```
1. export const NAME = 'leo'
2. export { NAME }
3. export { v1 as NAME }
4. export default {}
5. export { v1 as default, v2 }
```   

#### defaultæ˜¯ä¸ªå•¥ï¼Ÿè·Ÿexportçš„å…¶ä»–å±æ€§ä»€ä¹ˆå…³ç³»ï¼Ÿ
##### defaultæƒ…å†µwebpackæ‰“åŒ…æƒ…å†µ
å†™ä¸€ä¸ªç®€å•çš„demoï¼š
```
<!-- 1.js -->
import m from './2'
console.log(m)

<!-- 2.js -->
export default { name: 'leo' }
```   

æ¥çœ‹ä¸‹webpackå¯¹è¿™ä¸¤ä¸ªæ–‡ä»¶æ‰“åŒ…ä¹‹åå˜æˆå•¥æ ·ï¼ŸğŸ‘‡   
```
<!-- 1.js -->
var _2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./2.js");
console.log(_2_js__WEBPACK_IMPORTED_MODULE_0__["default"])


<!-- 2.js -->
__webpack_require__.r(__webpack_exports__);
__webpack_exports__["default"] = ({
  name: 'leo'
});
```   
å°±è¿™æ ·å®Œäº‹äº†ã€‚ä¸€ä¸ªè®¾ç½®äº†defaultï¼Œä¸€ä¸ªæ‹¿defaultæ¥ç”¨   

##### å±æ€§å¯¼å‡ºæƒ…å†µwebpackæ‰“åŒ…æƒ…å†µ 
ä¸‹é¢çœ‹çœ‹å¯¼å‡ºå±æ€§æ˜¯æ€æ ·ğŸ‘‡ï¼š   
```
<!-- 1.js -->
var _2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./2.js");
console.log(_2_js__WEBPACK_IMPORTED_MODULE_0__["name"])


<!-- 2.js -->
__webpack_require__.d(
  __webpack_exports__,
  "name",
  function() { return name; }
);
const name = 'leo'
```   
å¯ä»¥çœ‹å‡ºdefaultæ˜¯èµ‹å€¼åˆ°__webpack_exports__ä¸Šçš„ï¼Œè€Œå•ä¸ªå±æ€§æ˜¯ä½¿ç”¨definePropertyå®šä¹‰getterçš„ï¼Œè¿™ä¹ˆåšæ˜¯ä¸ºä»€ä¹ˆï¼Ÿ   
**ES6å¯¼å‡ºçš„æ˜¯å€¼å¼•ç”¨ï¼Œdefaultæ˜¯å¼•ç”¨ç±»å‹ï¼Œè€Œä¸€èˆ¬å˜é‡æ˜¯åŸºæœ¬ç±»å‹ï¼Œæ‰€ä»¥åŸºæœ¬ç±»å‹ç”¨getter**   
è¿™ä¹ˆåšå› ä¸ºé‡‡ç”¨äº†é—­åŒ…çš„åŸç†æ‰€ä»¥nameæ”¹å˜ä¹‹åï¼Œé€šè¿‡getterè·å–ä»æ˜¯æœ€æ–°å€¼ï¼Œé‚£ä¹ˆå¯¹äºdefaultçš„æƒ…å†µä»ç„¶é€‚ç”¨å—ï¼Ÿ

##### å¦‚æœexport default { name }, é‚£ä¹ˆåˆæ˜¯å¦‚ä½•å¤„ç†çš„ï¼Ÿ   
```
<!-- ç¨å¾®ä¿®æ”¹ä¸‹2.js -->
let name = 'leo'
export default { name }
name = 'hello'

<!-- webpackæ‰“åŒ…ä¹‹åï¼Œ1.jsæœªå˜ï¼Œ2.jså¦‚ä¸‹ -->
let name = 'leo'
__webpack_exports__["default"] = ({ name: name });
name = 'hello'
```   
è¯•äº†ä¸‹è¾“å‡ºleoï¼Œè€Œä¸æ˜¯helloï¼Œè¯´æ˜export defaultçš„æ¨¡å¼å¯¼å‡ºçš„æ˜¯defaultå¼•ç”¨ï¼Œè€Œå…¶ä¸­å±æ€§æ”¹å˜æ˜¯æ— æ³•ä¾¦æµ‹åˆ°çš„ã€‚   

##### exportçš„æ˜¯å‡½æ•°webpackæ˜¯æ€ä¹ˆå¤„ç†çš„ï¼Ÿ
```
__webpack_require__.d(__webpack_exports__, "name", function() { return name; });
__webpack_require__.d(__webpack_exports__, "changeName", function() { return changeName; });
let name = 'leo'
const changeName = function () { name = 'hello' }
```   
å¯ä»¥çœ‹å‡ºå‡½æ•°å’Œå˜é‡æ˜¯ä¸€æ ·å¤„ç†çš„   

#### webpackæ˜¯å¦‚ä½•å®ç°ESMçš„ï¼Ÿ
```
(function (modules) {
  let _cache = {}
  function __webpack_require__ (moduleId) {
    if (_cache[moduleId]) {
      return _cache[moduleId]
    }
    let module = _cache[moduleId] = {
      id: moduleId,
      l: false,
      exports: {}
    }
    modules[moduleId](module, module.exports, __webpack_require__)
    return module.exports
  }
  __webpack_require__.d = function (obj, prop, getter) {
    Object.defineProperty(obj, prop, { get: getter })
  }

  return __webpack_require__('./1.js')
})({
  './1.js': (function(module, __webpack_exports__, __webpack_require__) {
    const module_2 = __webpack_require__('./2.js')
    console.log(module_2['name'])
  }),
  './2.js': (function(module, __webpack_exports__, __webpack_require__) {
    __webpack_require__.d(
      __webpack_exports__,
      'name',
      function () {
        return name
      }
    )
    const name = 'leo111'
  })
});
```   
æ‰§è¡ŒIIFEå‡½æ•°æ—¶ï¼Œæœ€åè¦æ‰§è¡Œ__webpack_require__('./1.js')ï¼Œæ‰§è¡Œå…¥å£å‡½æ•°è¿›è¡Œå¯åŠ¨