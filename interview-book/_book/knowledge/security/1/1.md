## 协议基础预备知识

### SSL/TLS协议运行机制

#### SSL/TLS为了解决什么问题？
不使用SSL/TLS的http通信，即不加密的通信，有三大风险：
1. 窃听风险：第三方可以获知通信内容
2. 篡改风险：第三方可以修改通信内容
3. 冒充风险：第三方可以冒充他人身份进行通信   

> SSL/TLS就是为了解决这三大风险而设计的：   

1. 所有信息加密传播，第三方无法窃听
2. 具有校验机制，一旦被篡改，通信双方立刻会发现
3. 配备身份证书，防止身份被冒充   

#### TLS和SSL什么关系？
TLS是SSL的升级版：  
TLS1.0通常被标示为SSL3.1，TLS1.1为SSL3.2，TLS1.2为SSL3.3

#### 基本的运行过程

> 公钥加密法   

1. 客户端向服务端索要公钥
2. 用公钥加密信息
3. 服务端收到密文后，用私钥解密   

**（1）如何保证公钥不被篡改？**   
把公钥放在数字证书中，只要证书是可信的，公钥就是可信的

**（2）公钥加密计算量太大，如何减少耗用的时间？**   
1. 每一次对话，客户端和服务端都生成一个对话密钥（session key），用它来加密信息
2. 由于对话密钥是对称加密，所以运算速度非常快
3. 服务器公钥只用于加密对话密钥本身   

**SSL/TLS的基本过程**   
1. 客户端向服务端索要并验证公钥
2. 客户端和服务端协商生成对话密钥
3. 双方采用对话密钥进行通信   

